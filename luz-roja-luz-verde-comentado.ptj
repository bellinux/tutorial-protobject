oPTJ("[{\"name\":\"Lámpara\",\"type\":\"Lamp\"},{\"name\":\"alerta\",\"type\":\"PlayKeyboard\"},{\"name\":\"MovimientoJ1\",\"type\":\"SmartphoneMotion\"},{\"name\":\"MovimientoJ2\",\"type\":\"SmartphoneMotion\"},{\"name\":\"VibradorJ1\",\"type\":\"Vibrator\"},{\"name\":\"VibradorJ2\",\"type\":\"Vibrator\"}]\n<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable id=\"o6*?o0Jgh@B!ArBw!QPA\">color</variable></variables><block type=\"main_loop\" id=\"N9XZB)`u2iF4lNcM/1fb\" x=\"-138\" y=\"37\"><statement name=\"allCode\"><block type=\"variables_set\" id=\"{|!|Otta[Pemi3v1HnMQ\"><field name=\"VAR\" id=\"o6*?o0Jgh@B!ArBw!QPA\">color</field><comment pinned=\"false\" h=\"80\" w=\"160\">Definimos el color del semáforo</comment><value name=\"VALUE\"><block type=\"text\" id=\"(CT}$[D#nPoE{,h|;s)!\"><field name=\"TEXT\">verde</field></block></value><next><block type=\"protobject_Lámpara_color_set_1\" id=\"protobject_Lámpara_color_set_1\"><value name=\"VAR\"><shadow type=\"colour_picker\" id=\"]vB[=!40I{-2#y/XbnA!\"><field name=\"COLOUR\">#33ff33</field></shadow></value><next><block type=\"protobject_sleep\" id=\"T.@,)g8nR_kg+_RdXh8*\"><field name=\"timingType\">s</field><comment pinned=\"false\" h=\"96\" w=\"302\">Esperamos un tiempo aleatorio, para que cada vez la luz demore un tiempo distinto.</comment><value name=\"VAR\"><shadow type=\"math_number\" id=\"J#C#Xn2,41^gR{n-`.hQ\"><field name=\"NUM\">1</field></shadow><block type=\"math_random_int\" id=\"vHWGJ7@n+*X?22l.G,?/\"><value name=\"FROM\"><shadow type=\"math_number\" id=\"/p?;dH#L2mVCy0xywh0E\"><field name=\"NUM\">1</field></shadow></value><value name=\"TO\"><shadow type=\"math_number\" id=\"8i%=7;g^f:R?6Y0d%GE0\"><field name=\"NUM\">10</field></shadow></value></block></value><next><block type=\"controls_repeat_ext\" id=\"+vv`1z24%,s+PPEK$R!+\"><comment pinned=\"false\" h=\"99\" w=\"245\">Encendemos un sonido corto antes de cambiar, para que los jugadores se preparen.</comment><value name=\"TIMES\"><shadow type=\"math_number\" id=\"M:JJw34gP3~;3X:=l%00\"><field name=\"NUM\">3</field></shadow></value><statement name=\"DO\"><block type=\"protobject_alerta_play_set_1\" id=\"protobject_alerta_play_set_1\"><value name=\"VAR\"><shadow type=\"control_note\" id=\"eDzz1FmI@ff3zhxMs]Sd\"><field name=\"VAR\">69</field></shadow></value><next><block type=\"protobject_sleep\" id=\"^nL1PO]Sl_D`c|3U6=FS\"><field name=\"timingType\">ms</field><value name=\"VAR\"><shadow type=\"math_number\" id=\"|V;oeekRss8+[plrG7M?\"><field name=\"NUM\">300</field></shadow></value><next><block type=\"protobject_alerta_stop_set_3\" id=\"protobject_alerta_stop_set_3\"></block></next></block></next></block></statement><next><block type=\"variables_set\" id=\"96|}9A/E(%z2%cqiX@}x\"><field name=\"VAR\" id=\"o6*?o0Jgh@B!ArBw!QPA\">color</field><comment pinned=\"false\" h=\"77\" w=\"181\">Cambiamos el estado del semáforo a \"rojo\"</comment><value name=\"VALUE\"><block type=\"text\" id=\"$UG*$H|kc06d[+og(kMZ\"><field name=\"TEXT\">rojo</field></block></value><next><block type=\"protobject_Lámpara_color_set_1\" id=\"B-ae#k[$nt_%3NnSC`Ph\"><value name=\"VAR\"><shadow type=\"colour_picker\" id=\"LK{@od(L[0uXcQNnE.(6\"><field name=\"COLOUR\">#ff0000</field></shadow></value><next><block type=\"protobject_sleep\" id=\"c[Ygqi!i%~XAEbc.Iyd3\"><field name=\"timingType\">s</field><value name=\"VAR\"><shadow type=\"math_number\" id=\"J#C#Xn2,41^gR{n-`.hQ\"><field name=\"NUM\">1</field></shadow><block type=\"math_random_int\" id=\"Hy%lzUS7@$H+=A?j*do#\"><value name=\"FROM\"><shadow type=\"math_number\" id=\"A@ZS/.b5#%Y/}qAbviiA\"><field name=\"NUM\">1</field></shadow></value><value name=\"TO\"><shadow type=\"math_number\" id=\"(WZobt#:#:ynM`RGidCC\"><field name=\"NUM\">10</field></shadow></value></block></value><next><block type=\"controls_repeat_ext\" id=\"``OmJv4lo2|k5IO%xTnt\"><comment pinned=\"false\" h=\"102\" w=\"207\">Tocamos la misma alarma nuevamente para que se preparen todos.</comment><value name=\"TIMES\"><shadow type=\"math_number\" id=\"ELMf5G=^ITrz0)b{O@yV\"><field name=\"NUM\">3</field></shadow></value><statement name=\"DO\"><block type=\"protobject_alerta_play_set_1\" id=\"t2m5P=Dk~M3SDYsea/z|\"><value name=\"VAR\"><shadow type=\"control_note\" id=\"XS`~uCMA.x3`.V5t2EEG\"><field name=\"VAR\">69</field></shadow></value><next><block type=\"protobject_sleep\" id=\"-vhIg+,Qm-p4f?+JoFFC\"><field name=\"timingType\">ms</field><value name=\"VAR\"><shadow type=\"math_number\" id=\"2npo8).z#O%vP%5Jar?H\"><field name=\"NUM\">300</field></shadow></value><next><block type=\"protobject_alerta_stop_set_3\" id=\"sj8_M=EJ;jXmA6xHZTpb\"></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type=\"protobject_when\" id=\"5.7oKh{Cki35bC$Hav)z\" x=\"388\" y=\"38\"><comment pinned=\"false\" h=\"72\" w=\"226\">Estamos pendientes del movimiento del Jugador 1</comment><value name=\"on\"><shadow type=\"protobject_MovimientoJ1_change\" id=\"`)+5Bl)6+ch.}s$;Ih4^\"><field name=\"property\">ANY</field></shadow></value><statement name=\"code\"><block type=\"controls_if\" id=\"-b(}m95z~Fs}o19?!b6O\"><comment pinned=\"false\" h=\"76\" w=\"286\">Evaluamos si hay movimiento cuando el semáforo está en rojo.</comment><value name=\"IF0\"><block type=\"logic_operation\" id=\"NB}9^OTC:bEx%7J{X+fr\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"0GO7D1lT{o9(ZuD?Pl]J\"><field name=\"OP\">GT</field><comment pinned=\"false\" h=\"94\" w=\"376\">Dejamos el movimiento mayor a 50 para que el sensor no de una falsa alarma por el pulso de la persona o movimientos leves.</comment><value name=\"A\"><block type=\"protobject_MovimientoJ1_get\" id=\"`EZ}q_,o9,Z~`7?aAI{]\"><field name=\"property\">movimientoGeneral</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"MJ!/nK:cL#~gST+S5=i,\"><field name=\"NUM\">50</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\"J9F6B|]#xWV=IP4k{J@A\"><field name=\"OP\">EQ</field><comment pinned=\"false\" h=\"94\" w=\"346\">Evaluamos si el movimiento se registra cuando el semáforo está rojo. En caso que no esté rojo, entonces no ocurre nada.</comment><value name=\"A\"><block type=\"variables_get\" id=\"-F^QYK,q8RQq4Gc@tk3b\"><field name=\"VAR\" id=\"o6*?o0Jgh@B!ArBw!QPA\">color</field></block></value><value name=\"B\"><block type=\"text\" id=\"8p@SW]ew7x+6+p$k.[S$\"><field name=\"TEXT\">rojo</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"protobject_VibradorJ1_turnOn_set_1\" id=\"protobject_VibradorJ1_turnOn_set_1\"><next><block type=\"protobject_sleep\" id=\"1nQ*zl9DNG(}1q;r1L/{\"><field name=\"timingType\">ms</field><value name=\"VAR\"><shadow type=\"math_number\" id=\"d5Uje=kvM5UGnl4D@-#s\"><field name=\"NUM\">300</field></shadow></value><next><block type=\"protobject_VibradorJ1_turnOff_set_2\" id=\"protobject_VibradorJ1_turnOff_set_2\"></block></next></block></next></block></statement></block></statement></block><block type=\"protobject_when\" id=\"C^c[Lh%@t+}p$o8!oy/s\" x=\"388\" y=\"388\"><comment pinned=\"false\" h=\"97\" w=\"394\">Estamos pendientes del movimiento del Jugador 2. En caso de querer agregar más jugadores, se debe replicar este código con sus dispositivos</comment><value name=\"on\"><shadow type=\"protobject_MovimientoJ2_change\" id=\"m3QZ[O1(LACqgi-W=kgX\"><field name=\"property\">ANY</field></shadow></value><statement name=\"code\"><block type=\"controls_if\" id=\"oc}Q___7}6Yy0Qeh2Vm1\"><value name=\"IF0\"><block type=\"logic_operation\" id=\"aB6d6hy.HGlQ#8oeT`Tw\"><field name=\"OP\">AND</field><value name=\"A\"><block type=\"logic_compare\" id=\"s_g9JmDf6~b#dsC,n,h}\"><field name=\"OP\">GT</field><value name=\"A\"><block type=\"protobject_MovimientoJ2_get\" id=\"6H.78wzD`5c,7`tMSjHd\"><field name=\"property\">movimientoGeneral</field></block></value><value name=\"B\"><block type=\"math_number\" id=\"7rlTxT3/Oo65W-%t_xhT\"><field name=\"NUM\">50</field></block></value></block></value><value name=\"B\"><block type=\"logic_compare\" id=\";r0oN7QdpHD$`VAfr~Ot\"><field name=\"OP\">EQ</field><value name=\"A\"><block type=\"variables_get\" id=\":t{n9)^k@49p{ec--Nqo\"><field name=\"VAR\" id=\"o6*?o0Jgh@B!ArBw!QPA\">color</field></block></value><value name=\"B\"><block type=\"text\" id=\"P)CKvNZB/P,N~i}iQFXp\"><field name=\"TEXT\">rojo</field></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"protobject_VibradorJ2_turnOn_set_1\" id=\"protobject_VibradorJ2_turnOn_set_1\"><next><block type=\"protobject_sleep\" id=\"66MC{AhvV7s[=3{NsRTM\"><field name=\"timingType\">ms</field><value name=\"VAR\"><shadow type=\"math_number\" id=\"nhA[.LeQhe4*UI=J6HV6\"><field name=\"NUM\">300</field></shadow></value><next><block type=\"protobject_VibradorJ2_turnOff_set_2\" id=\"protobject_VibradorJ2_turnOff_set_2\"></block></next></block></next></block></statement></block></statement></block></xml>")